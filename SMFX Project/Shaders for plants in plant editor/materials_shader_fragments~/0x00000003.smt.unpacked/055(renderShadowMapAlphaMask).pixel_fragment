pixelFragment renderShadowMapAlphaMask
	input color -texcoords 1
	output color

	declareCode
		extern uniform sampler diffuseTexture : register(s0);
	endCode

	code
		float texAlpha = tex2D(diffuseTexture, In.texcoord<t0>.xyz).a;
		clip(texAlpha - 0.5);
		float depth = saturate(In.texcoord<t0>.w);
		Current.color = float4( depth, frac(depth * 256), depth, 1 );
	endCode
end
